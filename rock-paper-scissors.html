<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <title>Rock Paper Scissors</title>
    </head> 

    <body>
        <div id="container">
            <button id="Rock">Rock</button> <br> <br>
            <button id="Paper">Paper</button> <br> <br>
            <button id="Scissors">Scissors</button> <br> <br>
        </div>

        <script>
            function computerPlay() {
                while (true) {
                    const selection = Math.floor(Math.random() * 10)

                    if (selection === 0) {
                        continue;
                    }  else if (selection < 4) {
                        return 'Rock';
                    }  else if (selection < 7) {
                        return 'Paper';
                    }  else {
                        return 'Scissors';
                    }
                }
            }  
            
            let winTally = 0;
            let lossTally = 0;

            const btn = document.querySelectorAll('button');

            btn.forEach((button) => {
                button.addEventListener('click' , () => {
                    let playerSelection = button.id;
                    let computerSelection = computerPlay();
                    
                    const compSel = document.createElement('div');
                    compSel.classList.add('compSel');
                    compSel.textContent = `Computer chose: ${computerSelection}`;

                    container.appendChild(compSel);
                    
                    const roundResults = document.createElement('div');
                    roundResults.classList.add('roundResults');
                    roundResults.textContent = playRound(playerSelection, computerSelection);

                    container.appendChild(roundResults);

                    const score = document.createElement('div');
                    score.classList.add('score');
                    score.textContent = `The score is now Player: ${winTally} to Computer: ${lossTally}.`;

                    container.appendChild(score);

                    if (winTally === 5) {
                        const winner = document.createElement('div');
                        winner.classList.add('winner');
                        winner.textContent = `You win the game with a score of ${winTally} to ${lossTally}!`;

                        container.appendChild(winner);
                    } else if (lossTally === 5) {
                        const loser = document.createElement('div');
                        loser.classList.add('loser');
                        loser.textContent = `Computer wins the game with a score of ${lossTally} to ${winTally}!`;

                        container.appendChild(loser);
                    }
                });
            });

            function playRound(playerSelection, computerSelection) {

                if (playerSelection === 'Rock' && computerSelection === 'Scissors') {
                    winTally = winTally + 1;
                    return 'You win! ' + playerSelection + ' beats ' + computerSelection + '!';
                }  else if (playerSelection === 'Scissors' && computerSelection === 'Rock') {
                    lossTally = lossTally + 1;
                    return 'You lose! ' + computerSelection + ' beats ' + playerSelection + '!';
                }  else if (playerSelection === 'Paper' && computerSelection === 'Rock') {
                    winTally = winTally + 1;
                    return 'You win! ' + playerSelection + ' beats ' + computerSelection + '!';
                }  else if (playerSelection === 'Rock' && computerSelection === 'Paper') {
                    lossTally = lossTally + 1;
                    return 'You lose! ' + computerSelection + ' beats ' + playerSelection + '!';
                }  else if (playerSelection === 'Scissors' && computerSelection === 'Paper') {
                    winTally = winTally + 1;
                    return 'You win! ' + playerSelection + ' beats ' + computerSelection + '!';
                }  else if (playerSelection === 'Paper' && computerSelection === 'Scissors') {
                    lossTally = lossTally + 1;
                    return 'You lose! ' + computerSelection + ' beats ' + playerSelection + '!';
                }  else {
                    return 'It\'s a tie! Play again!';
                }
            }
        </script>
    </body>
</html>